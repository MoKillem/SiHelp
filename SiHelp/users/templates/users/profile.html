{% extends 'blog/layout.html' %}
{% load crispy_forms_tags %}
{% block content %}










<v-container   grid-list-xl  >


<v-flex mt-5 xs12 offset-sm3  offset-md3 offset-lg2 sm-6 md-6 lg-10  app  >
        <v-card light color="grey lighten-5" md-5 fluid>
          <v-flex pt-3 text-xs-center>
          <v-card-text  class = "display-1 font-weight-light ">
                {{ user.first_name }} {{ user.last_name }}
                            <v-divider ></v-divider>
               </v-card-text>
               <v-layout  row justify-space-between  align-end >
                 
                  <v-flex xs5 offset-xs1  grow  class = "photovue">   
                    
                                      {% load static %}    
                  <v-img src="{{ user.profile.pic.url }}"
                  contain ></v-img >
                
               </v-flex>

               <v-flex xs6   pb-5 class = "  font-weight-light subheading centerInfo" grow wrap>
                 <div>
                   <v-card fluid>
                  <div class = "pb-2 pt-3">
                      <div class = "pb-2" ><strong>Your email</strong></div>
                    <div>{{ user.email }}</div>
                  </div>
                    <div class = "pb-2 pt-3 ">
                    <div class = "pb-2"><strong>Your contact number</strong></div>
                    <div>{{user.phone}}</div>
                    </div>
                    <div class = "pb-2 pt-3">
                      <div class = "pb-2"><strong>Your rating</strong></div>
                      <div >9/10</div>
                      </div>
                      <v-dialog v-model="dialog" max-width="600px" >
                    <template v-slot:activator="{ on }">
                      <v-btn mt-1  dark v-on="on" block color="warning">Change My details</v-btn>
                    </template>  
                    <!--Update Modal-->
      
                    
                    <v-layout column>
                            <v-card >
                              <v-flex text-center mt-4>
                                  <v-card-text class = "  display-1 font-weight-light">Login</v-card-text>
                              </v-flex>
                            
                                  <v-flex mx-5>
      
                                  <v-card-text>
                                      <form class = " mt-3 navbar-form navbar-right" enctype="multipart/form-data"  method = "POST" >
                                          {% csrf_token %}
                                          
                                          <v-layout column>
                                         

                                              {% for field in u_form %}
                                          
                                          <v-flex mt-3>
                                              <v-text-field
                                              :counter="20"
                                              name="{{ field.name }}"
                                              id="id_{{ field.name }}"
                                              label = "{{ field.label }}"
                                              value = {{field.value}}
                                              large
                                             hint = "{{ field.help_text }}"
                                                     persistent-hint
                                              box
                                            ></v-text-field>
                                            
                                          </v-flex>
                                          {% endfor %}
                                          
                                          <v-flex mt-3>

                                          <v-checkbox 
                                                    
                                          type="checkbox" 
                                          name="identity"
                                           id="id_identity"
                                          label =" Check this box if you want to be be a tutor/assignment helper."
                                          ></v-checkbox>
                                          </v-flex>
                                          <v-flex mt-3 >
                                          
                                                <div class="custom-file">
                                                    <label class="custom-file-label" for="customFileLang">Upload Profile Picture</label>
                                                    <input type="file" class="custom-file-input" id="customFileLang" name = "pic" accept ="image/*">
                                                  </div>
                                                 
                                                
                                                </v-flex>

                                     </v-flex>
                                    
      
      
                                      <v-btn 
                                      type = "submit"
                                      class="mx-0 mt-2 mb-3"  
                                      large
                                      dark
                                      color = "warning nodecor"
      
                                    >
                                    Update
                                    </v-btn>
                                    </v-flex>
                                  </v-card-text>
                                  </v-card>
                                </v-layout>
      
                                  <!--/SignUp Modal-->
      
      </v-dialog>
      
                                    
      
      
      
      
      
                                      </v-layout>
                                  </form>
                                  
                                </v-card-text>
      
                                  </v-flex>
                                  </v-card>
                              
                            </v-dialog>
      <!--/Update Modal-->
    </v-card>

                </v->
                        </div>
                     
               </v-flex>
              </v-layout>
              
              </v-flex>
              {% if p_form.errors or u_form.errors %}
              <div class="alert alert-danger">
                    <strong>Your changes haven't been saved!</strong>
                      <strong>{{ error|escape }}</strong>
                      
                  </div>
                  {%endif%}
              {% if p_form.errors %}
              <br>
              {% for field in p_form %}
                  {% for error in field.errors %}
                      <div class="alert alert-danger">
                          <strong>{{ error|escape }}</strong>
                          
                      </div>
                  {% endfor %}
              {% endfor %}
              {% for error in p_form.non_field_errors %}
                  <div class=" mb-2 alert alert-danger">
                      <strong>{{ error|escape }}</strong>
                  </div>
              {% endfor %}
            {% endif %}
            
            
            
              {% if u_form.errors %}
              {% for field in u_form %}
                  {% for error in field.errors %}
                      <div class="alert alert-danger">
                          <strong>{{ error|escape }}</strong>
                          
                      </div>
                  {% endfor %}
              {% endfor %}
              {% for error in u_form.non_field_errors %}
                  <div class=" mb-2 alert alert-danger">
                      <strong>{{ error|escape }}</strong>
                  </div>
              {% endfor %}
            {% endif %}
       
   
        </v-card>
        
        
</v-flex>

                   
      </v-container>


     

  {% endblock %}
