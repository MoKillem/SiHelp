
{% extends 'blog/layout.html' %}

{%block modal%}

{% endblock %}


           


{% block content %}
            <!--Right side Bar-->
  

    <div class="sidebar pt-5 ">
        <v-card>

      <hr>

    <h3  class ="text-center"> View Top Posts <h3>

    <hr>
     <!-- Button trigger modal -->

      <div class ="text-center">
      <v-card-title>
    <v-btn block  flat color="indigo lighten-3" dark>Highest Rated</v-btn>
      </v-card-title>
      <v-card-title>
        <v-btn block flat color="indigo lighten-3" dark>Most Affordable</v-btn>
      </v-card-title>
        <v-card-title>
    <v-btn block flat color="indigo lighten-3" dark>Verified Users</v-btn>
    </v-card-title>
    {% if  user.is_authenticated %}
<v-divider></v-divider>
    <v-card-title>

        <span class ="create" >  <v-btn block   flat color="indigo lighten-3" href ="/post/new/" light>Create an Ad</v-btn></span>
      </v-card-title>
      {% endif %}

  </v-card>
  </div>
    <hr>









      
  </div>

      <v-container   grid-list-xl  >
          <v-flex mt-5 xs12 offset-sm3  offset-md3 offset-lg2 sm-6 md-6 lg-10  app  >

          <v-card light color="white" md-5 fluid>
          <v-card-title class = "display-1 font-weight-light " >
            Search for a Subject/Unit
          </v-card-title>

          <v-card-text text-center>
          <form type="get" action=".">
            <v-flex xs-12>
          <v-text-field
          class="mt-3"
          flat
          name="search_box"  
          label="Search"
          prepend-inner-icon="search"
          solo-inverted
        >  </v-text-field>
            </v-flex>
  
            <v-flex >
                <v-btn  type = "submit" color  = "warning">Search</span></v-btn>
                <v-flex>
  
  
      </form>
    </v-card-text>
    </v-card>
   </v-container>    
  </v-flex>

        <v-container   grid-list-xl  >

          {% if ads|length > 0 %}
       {% for ad in ads %}

                        

       <v-flex mt-5 xs12 offset-sm3  offset-md3 offset-lg2 sm-6 md-6 lg-10  app  >
        <v-card light color="grey lighten-5" md-5 fluid>
          <v-flex pt-3 text-xs-center>
          <v-card-text  class = "display-1 font-weight-light ">
           {{ad.title}} 
            <v-divider ></v-divider>
               </v-card-text>
               <v-layout  row justify-space-between  align-end >
                 
                  <v-flex xs5 offset-xs1  grow  class = "photovue">   
                    
                                      {% load static %}  
                      <v-img src="{{ ad.author.profile.pic.url }}"
                                      contain ></v-img >  
                 
                
               </v-flex>

               <v-flex xs6   pb-5 class = "  font-weight-light subheading centerInfo" grow wrap>
                 <div>
                   <v-card fluid>
                  <div class = "pb-2 pt-3">
                      <div class = "pb-2" ><strong>I will help you with...</strong></div>
                    <div>{{ad.subject.upper}} : {{ad.unit.upper}}</div>
                  </div>
                    <div class = "pb-2 pt-3 ">
                    <div class = "pb-2"><strong>Number:</strong></div>
                    <div>{{ad.author.phone}}</div>
                    </div>
                    <div class = "pb-2 pt-3">
                      <div class = "pb-2"><strong>Price:</strong></div>
                     
                      <div >300 /hr</div>
                      </div>
                      
                      <v-dialog v-model="dialog" max-width="600px" >
                        <template v-slot:activator="{ on }">
                          <v-btn   dark v-on="on" block color="warning">Rate</v-btn>
                        </template>  
                        <!--Update Modal-->
          
                        
                        <v-layout column>
                                <v-card >
                                  <v-flex text-center mt-4>
                                      <v-card-text class = "  display-1 font-weight-light">Rate</v-card-text>
                                  </v-flex>
                                
                                      <v-flex mx-5>
          
                                      <v-card-text>
                                          <form class = " mt-3 navbar-form navbar-right" enctype="multipart/form-data"  method = "POST" action = "post/{{ad.id}}/rate/">
                                              {% csrf_token %}
                                              
                                              <v-layout column>
                                             
    
                                              
                                              <v-flex mt-3>
                                                  <v-text-field
                                                  type="number" 
                                                  name="rating" 
                                                  id="id_rating"
                                                  :counter="20"
                                                 large
                                                 hint = "{{ field.help_text }}"
                                                         persistent-hint
                                                  max = 10
                                                  min = 0
                                                ></v-text-field>
                                                
                                              </v-flex>
                                              
                                 
    
                                         </v-flex>
                                        
          
          
                                          <v-btn 
                                          type = "submit"
                                          class="mx-0 mt-2 mb-3"  
                                          large
                                          dark
                                          color = "warning nodecor"
          
                                        >
                                      Rate
                                     </v-btn>
                                        </v-flex>
                                      </v-card-text>
                                      </v-card>
                                    </v-layout>
          
                                      <!--/Rating Modal-->
          
          
                                        
          
          
          
          
          
                                          </v-layout>
                                      </form>
                                      
                                    </v-card-text>
          
                                      </v-flex>
                                      </v-card>
                                  
                                </v-dialog>
























                        </div>
                      </v-card>
                      <v-card>
                          <v-btn href = "/user/{{ad.author.id}}" class ="nodecor" block color="info">View Profile</v-btn>
                        </v-card> 
                        
               </v-flex>
              </v-layout>
              
              </v-flex>
             
        </v-card>
        
        
</v-flex>
{% endfor %}            

                   
      </v-container>


      {%else%}                       
      <v-container   grid-list-xl  >
          <v-text text-center class = "display-1">No Ads found</v-text>
           <v-divider inset></v-divider>                                                     
     </v-container>
     {%endif%}
    

                            

                              





                            

             

        <!--/Main Content-->
        
        {% endblock %}





